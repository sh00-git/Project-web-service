## 불법 주차된 전동킥보드 견인 조치 소요기간 예측

- 개발기간
    - 2022.08.24 ~ 2022.08.29
- 사용 언어 및 라이브러리
    - `python`, `pandas`, `SQLite`, `Metabase`, `Flask`, `Docker`

## 💡 Topic

- 공공데이터포털의 ‘서울특별시_전동킥보드_견인현황’ 데이터를 사용하여  전동킥보드 견인 조치 소요기간을 예측하는 시스템
- AI 부트캠프 Section3 Project

## ❓ 문제정의

전동 킥보드가 늘어나면서 사건 건수도 꾸준히 증가하고 있고 마구잡이로 주차 되어있어 통행에 불편을 주는 사례도 적지 않다. 이에 따라 각 시에서는 불법 주정차 되어있는 전동 킥보드를 견인하기 시작하였는데 신고를 할 때 전동킥보드가 빨리 치워지길 바라고 언제 조치가 이뤄질지 궁금하곤 하다.
따라서 전동킥보드 주정차 위반 신고를 하였을 시 언제 조치가 이뤄지는지 예측해주는 시스템을 만들고자 하였다.

## 🔍 프로젝트 진행과정

<img src="https://user-images.githubusercontent.com/76083173/212465399-d1d0bd3c-5166-4d96-a011-ba50d46414ec.png" height="400"/>

## 📚 데이터 셋

[서울특별시_전동킥보드_견인현황_20220731](https://www.data.go.kr/data/15100108/fileData.do)

- 공공데이터포털의 ‘서울특별시_전동킥보드_견인현황’ csv 파일
- 신고한 날짜와 상세한 위치정보, 전동킥보드가 놓아져 있는 유형정보, 전동킥보드가 견인되어진 날짜 정보를 담고 있는 5개의 columns와 60605개의 row로 이루어져 있음.

## ✍🏻 프로젝트 수행 과정 및 결과

1. 파이프라인 설계
2. 데이터 전처리, DB 적재
    - 데이터를 확인한 후 결측치를 제거하고 신고일과 조치일의 데이터 타입을 date형식으로 변경함
    - 주소 컬럼을 동정보, 상세주소로 나눠준 후 신고일과 조치일의 차이를 계산하여 조치소요기간 컬럼을 생성함
    - DB에 저장할 컬럼들을 정리하여 준 후 sqlite3 라이브러리를 사용하여 SQLite에 데이터를 적재함
3. Metabase를 사용하여 대시보드 제작
    - docker에 DB 업로드
    - docker를 통해 Metabase를 실행시킴
    - SQL 쿼리문을 통해 대시보드를 제작함.
    - 대시보드
        
        <img src="https://user-images.githubusercontent.com/76083173/212465433-661690d5-4ba7-4460-a937-9a59b18aef16.png" height="400"/>
        
4. 모델링 및 pickle 파일 저장
    - date형식으로 되어있는 신고일 컬럼의 데이터형식을 numeric으로 변경하여 준 후 데이터를 분할
    - 유형 정보가 범주형자료이므로 one-hot encoding을 사용하여 숫자로 카테고리화 함.
    - RandomForestClassifier 모델를 사용하여 모델링 진행
    - 검증 정확도 0.9970
        - 조치소요기간이 0일인 데이터가 많아 데이터의 비대칭 문제가 있음
        - 따라서 모델이 모두 0일로 예측하여도 다음과 같은 정확도를 보이는 것으로 판단됨
    - pickle 라이브러리를 사용하여 모델을 pickle파일로 저장
5. Flask 웹 서비스 개발
    - Flask 웹 프레임워크를 사용하여 간단한 웹 페이지를 개발
    - 모델의 pickle파일을 로드하여 신고일과 구, 동, 유형 정보를 담은 데이터프레임을 사용하여 모델을 예측한 후 결과를 보여줌
    - 웹 서비스 모습
        
        <img src="https://user-images.githubusercontent.com/76083173/212465457-faf0ce17-f0f5-498d-aba0-4dfa2478a01e.png" height="120"/>
        <img src="https://user-images.githubusercontent.com/76083173/212465482-46d42173-ce21-4a61-a631-38e585639055.png" height=100"/>
        

## ✨ Learned

- 프로젝트를 설명하기 위한 `파이프라인`을 제작해 볼 수 있었음.
- 대시보드와 웹 서비스를 `Docker`를 구현 및 관리해볼 수 있었음.
- DB에 적재한 데이터를 `SQL`문을 사용하여 `대시보드`를 제작하는 방법을 배울 수 있었음.
- 데이터셋의 정보가 부족하면 주제를 구체화하고 발전시키는 것에 한계가 있다는 것을 느끼게 되었음.
    - 관련된 데이터를 API로 수집하거나 스크레이핑하여 추가한다면 더 다양한 인사이트를 낼 수 있는 데이터셋을 구축할 수 있을 것이라 생각됨.
- `웹 서비스`를 제작하는 과정의 사이클을 배울 수 있었음.
